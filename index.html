<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Calculadora</title>

    <style>
        .tecla {
            background-color: #2f2e2e;
            height: 5rem;
            width: 5rem;
            margin: 10px 10px;
            text-align: center;
            font-size: 65px;
            font-family: Verdana;
            color: white;
            display: inline-block;
        }
    </style>

</head>
<body>

<div style="background-color: #606060; height: 40rem; width: 30rem; padding-top: 10px">
    <div style="background-color: #2f2e2e; height: 5rem; margin: 10px 10px;text-align: right; font-size: 65px; font-family: Verdana; color: white; padding-right: 10px"
         id="visor"></div>
    <div style="display: inline-block">
        <div>
            <div class="tecla" onclick="zerar()">
                C
            </div>
        </div>
        <div>
            <div class="tecla" onclick="teclaNumeroTela('7')">
                7
            </div>
            <div class="tecla" onclick="teclaNumeroTela('8')">
                8
            </div>
            <div class="tecla" onclick="teclaOperacao('9')">
                9
            </div>
            <div class="tecla" onclick="teclaOperacao(1)">
                +
            </div>
        </div>
        <div>
            <div class="tecla" onclick="teclaNumeroTela('4')">
                4
            </div>
            <div class="tecla" onclick="teclaNumeroTela('5')">
                5
            </div>
            <div class="tecla" onclick="teclaNumeroTela('6')">
                6
            </div>
            <div class="tecla" onclick="teclaOperacao(2)">
                -
            </div>
        </div>
        <div>
            <div class="tecla" onclick="teclaNumeroTela('1')">
                1
            </div>
            <div class="tecla" onclick="teclaNumeroTela('2')">
                2
            </div>
            <div class="tecla" onclick="teclaNumeroTela('3')">
                3
            </div>
            <div class="tecla" onclick="teclaOperacao(3)">
                *
            </div>
        </div>
        <div>
            <div class="tecla" onclick="teclaNumeroTela('0')">
                0
            </div>
            <div class="tecla" onclick="teclaNumeroTela('.')">
                .
            </div>
            <div class="tecla" onclick="teclaResult()">
                =
            </div>
            <div class="tecla" onclick="teclaOperacao(4)">
                /
            </div>
        </div>
    </div>
</div>
</body>
<script>

    var valor1 = null;
    var valor2 = null;

    var operacaoSinal = null;

    document.getElementById('visor').innerHTML = '0';


    function zerar() {
        let tela = document.getElementById('visor');
        tela.innerHTML = "0";
    }

    function teclaNumeroTela(num) {
        let tela = document.getElementById('visor');
        let valorTela = tela.innerHTML;
        if (valorTela.length < 8) {
            if (valorTela === '0' && num !== ".") {
                tela.innerHTML = num;
            }
            else {
                if (valorTela.includes(".")) {
                    if (num !== ".") {
                        tela.innerHTML = valorTela + num;
                    }
                } else {
                    tela.innerHTML = valorTela + num;
                }
            }
        }
    }

    function teclaOperacao(operacao) {
        let tela = document.getElementById('visor');
        if (!valor1) {
            valor1 = tela.innerHTML;
            tela.innerHTML = '0';
        } else if (operacao == 0) {
            teclaResult();
            tela.innerHTML = '0';
        } else {
            teclaResult();
        }
        operacaoSinal = operacao;
    }

    function teclaResult() {
        let tela = document.getElementById('visor');
        valor2 = tela.innerHTML;
        if (valor1 && valor2) {

            let resultado = 0;
            switch (operacaoSinal) {
                case 1:
                    resultado = parseFloat(valor1) + parseFloat(valor2);
                    break;
                case 2:
                    resultado = parseFloat(valor1) - parseFloat(valor2);
                    break;
                case 3:
                    resultado = parseFloat(valor1) * parseFloat(valor2);
                    break;
                case 4:
                    resultado = parseFloat(valor1) / parseFloat(valor2);
                    break;
            }
            tela.innerHTML = resultado;
            valor1 = null;
            valor2 = null;
            operacaoSinal = null;

        }
    }

</script>
</html>